"use strict";var burger=function(){var e=document.querySelector(".burger"),t=document.querySelector(".header__menu"),a=document.querySelectorAll(".header__nav-link");e.addEventListener("click",(function(){e.classList.toggle("burger--active"),t.classList.toggle("header__menu--active"),t.classList.contains("header__menu--active")?(e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","Закрыть меню"),document.body.classList.add("stop-scroll")):(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Открыть меню"),document.body.classList.remove("stop-scroll"))})),document.addEventListener("click",(function(a){var i=a.target,r=i==t||t.contains(i),n=i==e||e.contains(i);r||n||!t.classList.contains("header__menu--active")||(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Открыть меню"),e.classList.remove("burger--active"),t.classList.remove("header__menu--active"),document.body.classList.remove("stop-scroll"))})),a.forEach((function(a){a.addEventListener("click",(function(){e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Открыть меню"),e.classList.remove("burger--active"),t.classList.remove("header__menu--active"),document.body.classList.remove("stop-scroll")}))}))};burger();var centers=function(){var e=Array.from(document.querySelectorAll(".diving-centers__block")),t=function(e,t){e.insertAdjacentHTML("afterbegin",'<iframe class="diving-centers__map-iframe" style="pointer-events: none;" src="'+t+'" frameborder="0";" allowfullscreen></iframe>'),e.addEventListener("click",(function(){e.querySelector(".diving-centers__map-iframe").style.pointerEvents="all"})),document.addEventListener("click",(function(t){var a=t.target;a==e||e.contains(a)||(e.querySelector(".diving-centers__map-iframe").style.pointerEvents="none")}))};e&&e.forEach((function(e){var a=Array.from(e.querySelectorAll(".diving-centers__location-btn"));a&&a.forEach((function(e){if("location-2"==e.dataset.loc){var a=e.closest(".diving-centers__block").querySelector(".diving-centers__map"),i="".concat(e.dataset.src);t(a,i)}e.addEventListener("click",(function(e){var a=e.target.closest(".diving-centers__block"),i=a.querySelector(".diving-centers__map"),r=e.target.closest(".diving-centers__location-btn"),n=a.querySelector('[data-loc-title = "'.concat(r.dataset.loc,'"]')),c=a.querySelector('[data-loc-text = "'.concat(r.dataset.loc,'"]')),o=e.target.closest(".diving-centers__location-item");if(!r.classList.contains("diving-centers__location-btn--active")){a.querySelector(".diving-centers__location-btn--active").classList.remove("diving-centers__location-btn--active"),a.querySelector(".diving-centers__location-item--active").classList.remove("diving-centers__location-item--active"),a.querySelector(".diving-centers__about-title--active").classList.remove("diving-centers__about-title--active"),a.querySelector(".diving-centers__about-text--active").classList.remove("diving-centers__about-text--active"),i.innerHTML="",r.classList.add("diving-centers__location-btn--active"),n.classList.add("diving-centers__about-title--active"),c.classList.add("diving-centers__about-text--active"),o.classList.add("diving-centers__location-item--active");var s="".concat(r.dataset.src);t(i,s)}}))}))}))};centers();var mySwiper,slider=document.querySelector(".mobile-swiper"),mediaQuery=window.matchMedia("(max-width: 1100px)");function mobileSlider(e){e&&"false"==slider.dataset.mobile?(mySwiper=new Swiper(slider,{slidesPerView:"auto",keyboard:!0,spaceBetween:14}),slider.dataset.mobile="true"):(slider.dataset.mobile="false",slider.classList.contains("swiper-initialized")&&mySwiper.destroy())}slider&&(mobileSlider(mediaQuery.matches),mediaQuery.addEventListener("change",(function(e){mobileSlider(e.matches)})));var modal=function(){var e=Array.from(document.querySelectorAll("[data-modal]")),t=Array.from(document.querySelectorAll(".modal")),a=document.querySelectorAll(".modal__form-input"),i=document.body;function r(e){t.forEach((function(e){e.classList.contains("modal--open")&&e.classList.remove("modal--open")}));var a=e.target.dataset.modal||e.target.closest("[data-modal]").dataset.modal,r=document.getElementById("".concat(a)),n=r.querySelector(".modal__close-btn"),c=r.querySelector(".focus");setTimeout((function(){c.focus()}),500),r.querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))})),n.classList.remove("modal__close-btn--active"),r.classList.add("modal--open"),i.classList.add("stop-scroll")}function n(e){var t,r=e.target,n=r.closest(".modal"),c=n.querySelector(".modal__body"),o=n.querySelector(".modal__close-btn"),s=n.querySelector(".btn-js"),l=r==c||c.contains(r),d=r==o||o.contains(r);s&&(t=r==s||s.contains(r)),(d&&n.classList.contains("modal--open")||!l&&n.classList.contains("modal--open")||t&&n.classList.contains("modal--open"))&&(o.classList.add("modal__close-btn--active"),n.classList.remove("modal--open"),i.classList.remove("stop-scroll"),a.forEach((function(e){e.value=""})))}e.forEach((function(e){e.addEventListener("click",r)})),t.forEach((function(e){e.addEventListener("click",n)}))};modal();var scroll=function(){document.querySelectorAll(".diving-centers__location-list-inner").forEach((function(e){new SimpleBar(e)}));var e=Array.from(document.querySelectorAll(".diving-centers__location-list-inner"));e&&e.forEach((function(e){var t=e.querySelector(".simplebar-vertical"),a=e.querySelector(".simplebar-content-wrapper");a.setAttribute("tabindex","-1"),"visible"==t.style.visibility&&(a.style.paddingRight="23px")}))};window.addEventListener("resize",scroll()),new Swiper(".reviews__swiper",{slidesPerView:"auto",keyboard:!0,navigation:{nextEl:".reviews__swiper-button-next",prevEl:".reviews__swiper-button-prev"},breakpoints:{320:{spaceBetween:24},1101:{spaceBetween:32},1471:{spaceBetween:40}}}),new Swiper(".blog__swiper",{slidesPerView:"auto",keyboard:!0,navigation:{nextEl:".blog__swiper-button-next",prevEl:".blog__swiper-button-prev"},breakpoints:{320:{spaceBetween:30},1101:{spaceBetween:36},1471:{spaceBetween:56}}});var tabs=function(){var e,t,a=Array.from(document.querySelectorAll(".tabs"));a.forEach((function(a){a&&a.addEventListener("click",(function(i){var r=i.target.dataset.tab;if(r){var n=Array.from(a.querySelectorAll(".tabs__btn")),c=i.target.closest(".tabs-block"),o=Array.from(c.querySelectorAll(".tab"));e="tours__btn--active",t="tours__tab--active",n.forEach((function(t){t.classList.remove(e)})),a.querySelector("[data-tab='".concat(r,"']")).classList.add(e),o.forEach((function(e){e.classList.remove(t)})),document.getElementById("".concat(r)).classList.add(t)}}))}))};tabs();var video=function(){var e=document.querySelectorAll(".video__play-btn");e&&e.forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".video__container").forEach((function(e){e.querySelector(".video__iframe")&&(e.querySelector(".video__content").innerHTML="",e.querySelector(".video__bg").classList.remove("video__bg--hidden"),e.querySelector(".video__play-btn").classList.remove("video__play-btn--hidden"))}));var t=e.closest(".video__container"),a=t.querySelector(".video__bg"),i=t.querySelector(".video__content"),r=i.dataset.src;e.classList.add("video__play-btn--hidden"),a.classList.add("video__bg--hidden"),i.insertAdjacentHTML("afterbegin",'<iframe class="video__iframe" src="'+r+'" frameborder="0" allow="autoplay;" allowfullscreen></iframe>')}))}))};video();